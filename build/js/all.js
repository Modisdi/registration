"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}window.onload=function(){var e=document.getElementsByClassName("header__loginButton")[0],t=document.getElementsByClassName("header__loginIcon")[0],a=document.getElementsByClassName("header__ul")[0].getElementsByClassName("header__a"),n=document.getElementsByClassName("header__nav")[0],o=document.getElementsByClassName("header__menuIcon")[0],s=document.getElementsByClassName("header__closeMenu")[0],d="modalWindow__errorLabel-show",l=document.getElementsByClassName("modalWindow")[0],i=document.getElementsByClassName("modalBackdrop")[0],r=document.getElementsByClassName("modalWindow__closeButton")[0],m=document.getElementById("modalWindow__nameInput"),c=document.getElementById("modalWindow__emailInput"),u=document.getElementById("modalWindow__telInput"),_=document.getElementById("modalWindow__countryInput"),v=document.getElementById("modalWindow__dateInput"),p=document.getElementById("modalWindow__passwordInput"),y=document.getElementById("modalWindow__passwordConfirmInput"),L=document.getElementsByClassName("horoscopeEveryone__buttonWrapper")[0].getElementsByClassName("horoscopeEveryone__button"),f=document.getElementsByClassName("horoscopeZodiac__wrapper")[0].getElementsByClassName("horoscopeZodiac__circleButton"),h=document.getElementsByClassName("footer__form")[0],w=document.getElementById("footer__emailInput"),E=document.getElementById("footer__nameInput"),g=document.getElementById("footer__dateInput"),B=new function e(){_classCallCheck(this,e),_defineProperty(this,"showLoginModalWindow",(function(){i.classList.add("modalBackdrop-show"),l.classList.add("modalWindow-show")})),_defineProperty(this,"closeLoginModalWindow",(function(){i.classList.remove("modalBackdrop-show"),l.classList.remove("modalWindow-show")})),_defineProperty(this,"addActiveClass",(function(e,t){for(var a=0;a<e.length;a++)e[a].addEventListener("click",(function(){document.getElementsByClassName(t)[0].classList.remove(t),this.className+=" ".concat(t)}))})),_defineProperty(this,"openMenu",(function(){n.classList.add("header__nav-show")})),_defineProperty(this,"closeMenu",(function(){n.classList.remove("header__nav-show")}))},V=new function e(){var t=this;_classCallCheck(this,e),_defineProperty(this,"emailValidate",(function(e,t){var a=e.value,n=e.labels;/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?n[0].classList.remove(t):n[0].classList.add(t)})),_defineProperty(this,"nameValidate",(function(e,t){var a=e.value,n=e.labels;a.length<4?n[0].classList.add(t):n[0].classList.remove(t)})),_defineProperty(this,"dateValidate",(function(e,t){var a=e.value,n=e.labels;!a||a.match(/[dmy]/g)?n[0].classList.add(t):n[0].classList.remove(t)})),_defineProperty(this,"telValidate",(function(e,t){var a=e.value,n=e.labels;!a||a.match(/[_]/g)?n[0].classList.add(t):n[0].classList.remove(t)})),_defineProperty(this,"passwordValidate",(function(e,t){var a=e.value,n=e.labels;0===a.length?(n[0].innerHTML="Обязательное поле для заполнения",n[0].classList.add(t)):a.length<4?(n[0].innerHTML="Пароль должен содержать не менее 4 символов",n[0].classList.add(t)):y.value!==a?(y.innerHTML="Пароли не совпадают",y.labels[0].classList.add(t),n[0].classList.remove(t)):(n[0].classList.remove(t),y.labels[0].classList.remove(t))})),_defineProperty(this,"confirmPasswordValidate",(function(e,t){var a=e.value,n=e.labels;0===a.length?(n[0].innerHTML="Обязательное поле для заполнения",n[0].classList.add(t)):a.length<4?(n[0].innerHTML="Пароль должен содержать не менее 4 символов",n[0].classList.add(t)):p.value.length<4?(p.labels[0].classList.add(t),n[0].classList.remove(t)):a!==p.value?(p.classList.add(t),n[0].innerHTML="Пароли не совпадают"):n[0].classList.remove(t)})),_defineProperty(this,"onkeyupFormValidate",(function(e,t,a){t(e,a),e.addEventListener("keyup",(function(e){t(e.target,a)}))})),_defineProperty(this,"onsubmitFooterForm",(function(e){e.preventDefault(),t.onkeyupFormValidate(w,t.emailValidate,"footer__errorLabel-show"),t.onkeyupFormValidate(E,t.nameValidate,"footer__errorLabel-show"),t.onkeyupFormValidate(g,t.dateValidate,"footer__errorLabel-show")})),_defineProperty(this,"onsubmitModalWindowForm",(function(e){e.preventDefault(),t.onkeyupFormValidate(m,t.nameValidate,d),t.onkeyupFormValidate(c,t.nameValidate,d),t.onkeyupFormValidate(u,t.telValidate,d),t.onkeyupFormValidate(v,t.dateValidate,d),t.onkeyupFormValidate(_,t.nameValidate,d),t.onkeyupFormValidate(p,t.passwordValidate,d),t.onkeyupFormValidate(y,t.confirmPasswordValidate,d)})),_defineProperty(this,"addEventListenerBlur",(function(e,a,n){e.addEventListener("blur",(function(e){t.onkeyupFormValidate(e.target,t[a],n)}),{once:!0})}))};B.addActiveClass(a,"header__a-active"),o.addEventListener("click",B.openMenu),s.addEventListener("click",B.closeMenu),e.addEventListener("click",B.showLoginModalWindow),t.addEventListener("click",B.showLoginModalWindow),r.addEventListener("click",B.closeLoginModalWindow),l.addEventListener("submit",V.onsubmitModalWindowForm),$("#modalWindow__telInput").inputmask({mask:"+(999) 999-9999"}),V.addEventListenerBlur(m,"nameValidate",d),m.onkeydown=function(e){var t=e.key;return!/[^a-zA-Zа-яА-ЯёЁ .]/.test(t)},V.addEventListenerBlur(c,"nameValidate",d),V.addEventListenerBlur(u,"telValidate",d),V.addEventListenerBlur(v,"dateValidate",d),V.addEventListenerBlur(_,"nameValidate",d),V.addEventListenerBlur(p,"passwordValidate",d),V.addEventListenerBlur(y,"confirmPasswordValidate",d),B.addActiveClass(L,"horoscopeEveryone__button-active"),B.addActiveClass(f,"horoscopeZodiac__circleButton-active"),V.addEventListenerBlur(w,"emailValidate","footer__errorLabel-show"),V.addEventListenerBlur(E,"nameValidate","footer__errorLabel-show"),V.addEventListenerBlur(g,"dateValidate","footer__errorLabel-show"),E.onkeydown=function(e){var t=e.key;return!/[^a-zA-Zа-яА-ЯёЁ .]/.test(t)},$(":input").inputmask(),$("#footer__telInput").inputmask({mask:"+(999) 999-9999"}),h.addEventListener("submit",V.onsubmitFooterForm)};